<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Lab</title>
    <link rel="stylesheet" href="js/jquery.mobile-1.3.2.min.css" />
    <script src="js/jquery-1.9.1.min.js"></script>
    <script src="js/jquery.mobile-1.3.2.min.js"></script>

    <style>
        .ui-table-columntoggle-btn {
            display: none;
        }
    </style>

</head>
<body>
<div id="debug"></div>

<div id="indexPage" data-role="page" data-theme="d">
    <div data-role="content">
        <table id="resultTable" data-role="table" data-mode="columntoggle" class="table-stroke"></table>
    </div>
</div>

<script>
    
    $.getJSON("/api/products", function (data) {
        $("#debug").text(JSON.stringify(data));
        var sRows = "<tr><th>id</th><th>Name</th><th>Category</th><th>Price</th></tr>";
        for (i = 0; i < data.length; i++) {
            item = data[i];
            sRows += "<tr>"
                       + "<td>" + item.Id + "</td>"
                       + "<td>" + item.Name + "</td>"
                       + "<td>" + item.Category + "</td>"
                       + "<td>" + item.Price + "</td>"
                  + "</tr>"
        }
        $("#resultTable").html(sRows);
    });

</script>

</body>
</html>
